"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4286],{26748:function(t,e,n){var r=n(27378),o=n(68442),a=n(62999),i=n(21123),l=n(62753),d=n(45182),s=n(48193);function c(t,e,n,r,o,a,i){try{var l=t[a](i),d=l.value}catch(s){return void n(s)}l.done?e(d):Promise.resolve(d).then(r,o)}var u=(0,o.default)("p",{target:"ebd08fy1",label:"NoJSPanel"})(a.eV,";",i.oV,";padding:",l.SPACING_8," 0;"),v=(0,o.default)("p",{target:"ebd08fy0",label:"ErrorPanel"})(a.eV,";",i.oV,";padding:",l.SPACING_8," 0;");e.Z=t=>{var{voteId:e,testData:n=!1}=t,[o,a]=(0,r.useState)(void 0),[i,l]=(0,r.useState)(null),p=n?"https://ssp-libraries-uktest.votenow.tv/tldr/tldr.min":"https://ssp-libraries-uk.votenow.tv/tldr/tldr.min",f=(0,s.V)(p);if(!e)throw new Error("Required parameter not provided: voteId");return(0,r.useEffect)((()=>{var t=function(){var t,e=(t=function*(t){var e=n?"https://widgetstate-uktest.votenow.tv/v3/state":"https://widgetstate-uk.votenow.tv/v3/state";try{var r=yield fetch("".concat(e,"/").concat(t)),o=yield r.json(),i={wid:o.snapshot.data.wid,isSignInRequired:o.data.bbc_id.enabled};l(i)}catch(d){a("Error: fetching widget data")}},function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){c(a,r,o,i,l,"next",t)}function l(t){c(a,r,o,i,l,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}();t(e)}),[n,e]),(0,r.useEffect)((()=>{if(f&&i&&!i.isSignInRequired){var t={voteId:e,initialWidth:document.getElementById("telescope-vote-".concat(e)).offsetWidth,childId:"telescope-vote-".concat(e),parentTitle:document.title,parentUrl:document.URL,region:"GB",isUK:!0,locale:"en_GB"},r=encodeURIComponent(JSON.stringify(t)),o=n?"https://ssp-app-uktest.votenow.tv/":"https://ssp-app-uk.votenow.tv/";try{f.loadApplication({id:"telescope-vote-".concat(e),url:"".concat(o,"#state=").concat(r),method:"get",wid:i.wid,custom_id:!!i.isSignInRequired})}catch(l){a("Error: loading telescope app")}}}),[f,i,n,e]),i&&i.isSignInRequired?null:r.createElement(d.Z,null,r.createElement("noscript",null,r.createElement(u,null,"Sorry, this vote cannot be loaded. In order to vote you need to enable JavaScript in your browser.")),o?r.createElement(v,null,"This vote is currently unavailable. Please try refreshing the page or try again later."):r.createElement("div",{id:"telescope-vote-".concat(e)}))}},13549:function(t,e,n){n.r(e),n.d(e,{default:function(){return r.Z}});var r=n(26748)}}]);